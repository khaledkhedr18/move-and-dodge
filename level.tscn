[gd_scene load_steps=15 format=3 uid="uid://ctlckg7mv4a4q"]

[ext_resource type="Texture2D" uid="uid://bujjy51xwbx3s" path="res://textures/TactilePaving002_2K-JPG_NormalDX.jpg" id="1_0acho"]
[ext_resource type="PackedScene" uid="uid://cn85xu11fe7bj" path="res://Assets/character.tscn" id="1_l2ufd"]
[ext_resource type="Texture2D" uid="uid://djbcednf5d033" path="res://textures/TactilePaving002_2K-JPG_Roughness.jpg" id="2_7cqd7"]
[ext_resource type="Script" path="res://Scripts/character.gd" id="2_6683b"]
[ext_resource type="Environment" uid="uid://boriy816r2blq" path="res://new_environment.tres" id="3_4ul8f"]
[ext_resource type="Script" path="res://addons/interpolated_camera_3d/interpolated_camera_3d.gd" id="3_bbfw4"]
[ext_resource type="MeshLibrary" uid="uid://qtf2kk4jmc7h" path="res://Assets/blockslib.tres" id="8_1xa38"]
[ext_resource type="PackedScene" uid="uid://so0ddph5ijo5" path="res://Assets/enemy_2.tscn" id="8_e6hs3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_0r4sl"]
size = Vector3(50, 50, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_w85t1"]
albedo_color = Color(0.812271, 0.746668, 1.15514e-06, 1)
roughness_texture = ExtResource("2_7cqd7")
normal_enabled = true
normal_scale = -3.0
normal_texture = ExtResource("1_0acho")
uv1_scale = Vector3(0.2, 0.2, 0.2)
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_u5f0w"]
material = SubResource("StandardMaterial3D_w85t1")
size = Vector3(50, 50, 1)

[sub_resource type="Animation" id="Animation_i8l2x"]
length = 8.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2, 4, 6, 8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 8.248, 9.568), Vector3(12.3849, 8.248, 9.568), Vector3(12.3849, -0.0828128, 0.680111), Vector3(12.3849, 8.17858, 9.49393), Vector3(-0.0507545, 8.17857, 9.49393)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2, 4, 6, 8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0.813323, 0, 0), Vector3(0.813323, 4.71239, 0), Vector3(6.26573, 4.71239, 0), Vector3(0.813323, 4.71239, 0), Vector3(0.813323, 0, 0)]
}

[sub_resource type="Animation" id="Animation_u1g2r"]
resource_name = "enemy1animation"
length = 8.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2, 4, 6, 8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0.00179672, 8.21045, 9.55511), Vector3(12.5892, 8.21045, 9.55511), Vector3(12.5892, -0.367854, 0.403181), Vector3(12.5892, 8.17576, 9.5181), Vector3(0.0297556, 8.17576, 9.5181)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2, 4, 6, 8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(-0.399354, 2.4847, -1.75758), Vector3(-0.679101, 1.01392, 1.13297), Vector3(-0.399354, 2.4847, -1.75758), Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ynmco"]
_data = {
"RESET": SubResource("Animation_i8l2x"),
"enemy1animation": SubResource("Animation_u1g2r")
}

[node name="Level" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, -0.729602, 0.683872, 0, -0.683872, -0.729602, 0, 0, 0)

[node name="Floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.681998, -0.731354, 0, 0.731354, 0.681998, 0, 0.729602, -0.683872)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(1, 0, 0, 0, 1, -2.32831e-10, 0, 2.32831e-10, 1, 0, 0, 0)
shape = SubResource("BoxShape3D_0r4sl")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(0.999999, 0.000522709, 0.00161611, -0.000521761, 1, -0.000589181, -0.00161642, 0.000588341, 0.999999, 0, 0, 0)
mesh = SubResource("BoxMesh_u5f0w")

[node name="Khaled" parent="." instance=ExtResource("1_l2ufd")]
transform = Transform3D(1, 0, 0, 0, 0.677158, -0.735837, 0, 0.735837, 0.677158, 0, -0.869659, -0.122171)
collision_layer = 2
collision_mask = 3
script = ExtResource("2_6683b")

[node name="CameraTarget" type="Node3D" parent="Khaled"]
transform = Transform3D(100, 0, 0, 0, 72.0079, -69.3892, 0, 69.3892, 72.0079, 0, -7.60006, 8.24024)

[node name="Camera" type="Camera3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(1, 0, 0, 0, -0.44149, -0.897266, 0, 0.897266, -0.44149, 0, -26.2868, -14.1469)
environment = ExtResource("3_4ul8f")
script = ExtResource("3_bbfw4")
translate_speed = 0.202
near_far_speed = 0.499
target = NodePath("../Khaled/CameraTarget")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.999717, 0.0162789, 0.0173673, -0.0162789, 0.999867, -0.000141948, -0.0173673, -0.000140846, 0.999849, 0, -9.10386, 8.53325)
light_color = Color(0.521752, 0.464543, 0.657477, 1)
light_energy = 1.5
shadow_enabled = true

[node name="GridMap" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.728967, -0.684546, 0, 0.684546, -0.728967, 0, 0.444226, -0.416383)
mesh_library = ExtResource("8_1xa38")
cell_size = Vector3(1, 1, 1)
data = {
"cells": PackedInt32Array(14, 65521, 0, 13, 65521, 0, 12, 65521, 0, 11, 65521, 0, 10, 65521, 0, 9, 65521, 0, 8, 65521, 0, 7, 65521, 0, 6, 65521, 0, 5, 65521, 0, 4, 65521, 0, 3, 65521, 0, 2, 65521, 0, 1, 65521, 0, 0, 65521, 0, 65535, 65521, 0, 65534, 65521, 0, 65533, 65521, 0, 65532, 65521, 0, 65531, 65521, 0, 65530, 65521, 0, 65529, 65521, 0, 65528, 65521, 0, 65527, 65521, 0, 65526, 65521, 0, 65525, 65521, 0, 65524, 65521, 0, 65523, 65521, 0, 65522, 65521, 0, 65521, 65521, 0, 65521, 65522, 0, 65521, 65523, 0, 65521, 65524, 0, 65521, 65525, 0, 65521, 65526, 0, 65521, 65527, 0, 65521, 65528, 0, 65521, 65529, 0, 65521, 65530, 0, 65521, 65531, 0, 65521, 65532, 0, 65521, 65533, 0, 65521, 65534, 0, 65521, 65535, 0, 65521, 0, 0, 65521, 1, 0, 65521, 2, 0, 65521, 3, 0, 65521, 4, 0, 65521, 5, 0, 65521, 6, 0, 65521, 7, 0, 65521, 8, 0, 65521, 9, 0, 65521, 10, 0, 65521, 11, 0, 65521, 12, 0, 65521, 13, 0, 65521, 14, 0, 65522, 14, 0, 65523, 14, 0, 65524, 14, 0, 65525, 14, 0, 65526, 14, 0, 65527, 14, 0, 65528, 14, 0, 65529, 14, 0, 65530, 14, 0, 65531, 14, 0, 65532, 14, 0, 65533, 14, 0, 65534, 14, 0, 65535, 14, 0, 0, 14, 0, 1, 14, 0, 2, 14, 0, 3, 14, 0, 4, 14, 0, 5, 14, 0, 6, 14, 0, 7, 14, 0, 8, 14, 0, 9, 14, 0, 10, 14, 0, 11, 14, 0, 12, 14, 0, 13, 14, 0, 14, 14, 0, 14, 13, 0, 14, 12, 0, 14, 11, 0, 14, 10, 0, 14, 9, 0, 14, 8, 0, 14, 7, 0, 14, 6, 0, 14, 5, 0, 14, 4, 0, 14, 3, 0, 14, 2, 0, 14, 1, 0, 14, 0, 0, 14, 65535, 0, 14, 65534, 0, 14, 65533, 0, 14, 65532, 0, 14, 65531, 0, 14, 65530, 0, 14, 65529, 0, 14, 65528, 0, 14, 65527, 0, 14, 65526, 0, 14, 65525, 0, 14, 65524, 0, 14, 65523, 0, 14, 65522, 0, 10, 65525, 0, 10, 65526, 0, 10, 65527, 0, 10, 65528, 0, 10, 65529, 0, 10, 65530, 0, 10, 65531, 0, 10, 65532, 0, 10, 65533, 0, 10, 1, 0, 10, 2, 0, 10, 3, 0, 10, 4, 0, 10, 5, 0, 10, 6, 0, 10, 7, 0, 10, 8, 0, 10, 9, 0, 10, 10, 0, 9, 10, 0, 8, 10, 0, 7, 10, 0, 6, 10, 0, 5, 10, 0, 4, 10, 0, 3, 10, 0, 2, 10, 0, 1, 10, 0, 65533, 10, 0, 65532, 10, 0, 65531, 10, 0, 65530, 10, 0, 65529, 10, 0, 65528, 10, 0, 65527, 10, 0, 65526, 10, 0, 65525, 10, 0, 65525, 9, 0, 65525, 8, 0, 65525, 7, 0, 65525, 6, 0, 65525, 5, 0, 65525, 4, 0, 65525, 3, 0, 65525, 2, 0, 65525, 1, 0, 65525, 65533, 0, 65525, 65532, 0, 65525, 65531, 0, 65525, 65530, 0, 65525, 65529, 0, 65525, 65528, 0, 65525, 65527, 0, 65525, 65526, 0, 65525, 65525, 0, 65526, 65525, 0, 65527, 65525, 0, 65528, 65525, 0, 65529, 65525, 0, 65530, 65525, 0, 65531, 65525, 0, 65532, 65525, 0, 65533, 65525, 0, 1, 65525, 0, 2, 65525, 0, 3, 65525, 0, 4, 65525, 0, 5, 65525, 0, 6, 65525, 0, 7, 65525, 0, 8, 65525, 0, 9, 65525, 0, 65550, 65521, 0, 65550, 65522, 0, 65550, 65523, 0, 65550, 65524, 0, 65550, 65525, 0, 65550, 65526, 0, 65550, 65527, 0, 65550, 65528, 0, 65550, 65529, 0, 65550, 65530, 0, 65550, 65531, 0, 65550, 65532, 0, 65550, 65533, 0, 65550, 65534, 0, 65550, 65535, 0, 65550, 0, 0, 65550, 1, 0, 65550, 2, 0, 65550, 3, 0, 65550, 4, 0, 65550, 5, 0, 65550, 6, 0, 65550, 7, 0, 65550, 8, 0, 65550, 9, 0, 65550, 10, 0, 65550, 11, 0, 65550, 12, 0, 65550, 13, 0, 65550, 14, 0, 65549, 14, 0, 65548, 14, 0, 65547, 14, 0, 65546, 14, 0, 65545, 14, 0, 65544, 14, 0, 65543, 14, 0, 65542, 14, 0, 65541, 14, 0, 65540, 14, 0, 65539, 14, 0, 65538, 14, 0, 65537, 14, 0, 65536, 14, 0, 131071, 14, 0, 131070, 14, 0, 131069, 14, 0, 131068, 14, 0, 131067, 14, 0, 131066, 14, 0, 131065, 14, 0, 131064, 14, 0, 131063, 14, 0, 131062, 14, 0, 131061, 14, 0, 131060, 14, 0, 131059, 14, 0, 131058, 14, 0, 131057, 14, 0, 131057, 13, 0, 131057, 12, 0, 131057, 11, 0, 131057, 10, 0, 131057, 9, 0, 131057, 8, 0, 131057, 7, 0, 131057, 6, 0, 131057, 5, 0, 131057, 4, 0, 131057, 3, 0, 131057, 2, 0, 131057, 1, 0, 131057, 0, 0, 131057, 65535, 0, 131057, 65534, 0, 131057, 65533, 0, 131057, 65532, 0, 131057, 65531, 0, 131057, 65530, 0, 131057, 65529, 0, 131057, 65528, 0, 131057, 65527, 0, 131057, 65526, 0, 131057, 65525, 0, 131057, 65524, 0, 131057, 65523, 0, 131057, 65522, 0, 131057, 65521, 0, 131058, 65521, 0, 131059, 65521, 0, 131060, 65521, 0, 131061, 65521, 0, 131062, 65521, 0, 131063, 65521, 0, 131064, 65521, 0, 131065, 65521, 0, 131066, 65521, 0, 131067, 65521, 0, 131068, 65521, 0, 131069, 65521, 0, 131070, 65521, 0, 131071, 65521, 0, 65536, 65521, 0, 65537, 65521, 0, 65538, 65521, 0, 65539, 65521, 0, 65540, 65521, 0, 65541, 65521, 0, 65542, 65521, 0, 65543, 65521, 0, 65544, 65521, 0, 65545, 65521, 0, 65546, 65521, 0, 65547, 65521, 0, 65548, 65521, 0, 65549, 65521, 0)
}
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="Enemy" parent="." instance=ExtResource("8_e6hs3")]
transform = Transform3D(1, 0, 0, 0, 0.687087, -0.726574, 0, 0.726574, 0.687087, 0, 8.248, 9.568)
rotation_order = 0
collision_mask = 7

[node name="AnimationPlayer" type="AnimationPlayer" parent="Enemy"]
libraries = {
"": SubResource("AnimationLibrary_ynmco")
}
autoplay = "RESET"

[connection signal="body_entered" from="Enemy" to="Khaled" method="_on_enemy_body_entered"]
